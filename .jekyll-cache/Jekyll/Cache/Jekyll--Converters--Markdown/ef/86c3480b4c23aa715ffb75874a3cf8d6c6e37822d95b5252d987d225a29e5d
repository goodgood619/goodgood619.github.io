I"Mú<p>ì´ë²ˆì˜ ê²½ìš°ëŠ” CCWë¥¼ í†µí•´ì„œ êµì°¨ íŒë³„ì„ ì´ë£¨ëŠ” ë¬¸ì œë¥¼ íŒŒì•…í•´ë³´ë ¤ í•©ë‹ˆë‹¤</p>

<p>â€‹CCWë¥¼ í•˜ë©´ ë°˜ì‹œê³„ë°©í–¥ì¸ì§€, ì‹œê³„ ë°©í–¥ì¸ì§€ë¥¼ ì•Œìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>â€‹ê·¸ëŸ¬ë©´ êµì°¨ë¥¼ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í˜•ì„±ì´ ë˜ì–´ì•¼ í• ê¹Œìš”?</p>

<p>â€‹ë‹¹ì—°íˆ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ í˜•ì„±ì„ í•´ì•¼ í• ê²ƒì…ë‹ˆë‹¤</p>

<p><img src="https://postfiles.pstatic.net/MjAxOTAyMDRfODAg/MDAxNTQ5MjYyNzQ0MTU3.H_LsYMnVdaivNRgTfBU-4uPE_9INSb6LYgJ9TlzqPbQg.I14xuCEP8_W1zTbxSDwZtPBN4AlMxCF8puL-wmg5vMEg.PNG.gktgnjftm/image.png?type=w966" alt="https://postfiles.pstatic.net/MjAxOTAyMDRfODAg/MDAxNTQ5MjYyNzQ0MTU3.H_LsYMnVdaivNRgTfBU-4uPE_9INSb6LYgJ9TlzqPbQg.I14xuCEP8_W1zTbxSDwZtPBN4AlMxCF8puL-wmg5vMEg.PNG.gktgnjftm/image.png?type=w966" /></p>

<p>ê·¸ëŸ¬ë©´ ì  Aì™€ B ê·¸ë¦¬ê³  Cë¥¼ CCWí•œ ê°’ì„ CCW1ì´ë¼ê³  ê°€ì •ì„ í•´ë³´ê² ìŠµë‹ˆë‹¤</p>

<p>â€‹ê·¸ë•Œ CCW1ì˜ ê°’ì€ ë¬´ì¡°ê±´ ë°˜ì‹œê³„ë°©í–¥ì´ë‹ˆê¹Œ ì–‘ìˆ˜ì¼ê²ƒì…ë‹ˆë‹¤</p>

<p>ê·¸ëŸ¬ë©´ í•œë²ˆë” ì  Aì™€ B, ê·¸ë¦¬ê³  ì  Dë¥¼ CCWí•œ ê°’ì„ CCW2ë¼ê³  ê°€ì •ì„ í•´ë³´ê² ìŠµë‹ˆë‹¤</p>

<p>â€‹ê·¸ëŸ¬ë©´ CCW2ëŠ” ì‹œê³„ë°©í–¥ì´ë‹ˆê¹Œ ìŒìˆ˜ ì¼ê²ƒì…ë‹ˆë‹¤.</p>

<p>â€‹ê·¸ë ‡ë‹¤ë©´ CCW1*CCW2ë¥¼ ê³±í•œ ê°’ì´ ìŒìˆ˜ë©´ ë˜ê² êµ¬ë‚˜ë¼ê³  ìƒê°ì„ í• ê²ƒì…ë‹ˆë‹¤.</p>

<p>â€‹í•˜ì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì€ ë°˜ë¡€ê°€ ìˆì„ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p><img src="https://postfiles.pstatic.net/MjAxOTAyMDRfMTAx/MDAxNTQ5MjYyOTMzMTI1.ylrp8CNAQVGdJ9wSBKzSuEgqbPy5cHzhIn3iIo_qS-og.HF5ohysufSQtfxc7NyPrILaGNCnP_GGrvrr-xyk8rh8g.PNG.gktgnjftm/image.png?type=w966" alt="https://postfiles.pstatic.net/MjAxOTAyMDRfMTAx/MDAxNTQ5MjYyOTMzMTI1.ylrp8CNAQVGdJ9wSBKzSuEgqbPy5cHzhIn3iIo_qS-og.HF5ohysufSQtfxc7NyPrILaGNCnP_GGrvrr-xyk8rh8g.PNG.gktgnjftm/image.png?type=w966" /></p>

<p>ì´ì™€ ê°™ì€ ê²½ìš°ì—ëŠ” CCW1*CCW2ê°’ì´ ìŒìˆ˜ê² ì§€ë§Œ, êµì°¨ëŠ” í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</p>

<p>â€‹</p>

<p>ê·¸ëŸ¬ë©´ CCW3ì„ ì  Cì™€ D ê·¸ë¦¬ê³  ì  Aë¥¼ CCWí•œ ê°’</p>

<p>CCW4ì„ ì  Cì™€ D ê·¸ë¦¬ê³  ì  Bë¥¼ CCWí•œ ê°’ì´ë¼ê³  í• ë•Œ</p>

<p>ì´ ë‘ ê°’ë˜í•œ ìŒìˆ˜ê°€ë˜ì–´ì•¼ í•œë‹¤ëŠ” ì ì„ ì´ìš©í•˜ë©´ ë ê²ƒì…ë‹ˆë‹¤</p>

<p>â€‹ê·¸ëŸ¬ë¯€ë¡œ êµì°¨ íŒë³„ì˜ ì¡°ê±´ì€ CCW1<em>CCW2&lt;0 &amp;&amp; CCW3</em>CCW4&lt;0 ì´ë¼ëŠ” ì¡°ê±´ì„ í†µí•´ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>

<p>â€‹</p>

<p>ê·¼ë° ì—¬ê¸°ì„œ ì£¼ì˜ í•´ì•¼ í• ê²ƒì´, ì´ê±°ëŠ” ë¬¸ì œë§ˆë‹¤ ì¡°ê¸ˆ ì˜ ì½ê³  íŒë‹¨ì„ í•´ë´ì•¼ í•œë‹¤ê³  ìƒê°ì„ í•˜ëŠ”ë°,</p>

<p>ê·¸ëƒ¥ ì§ì„ 1ì´ ì§ì„ 2ì— ì ‘í•œë‹¤. ì¦‰ êµì ì„ ê°€ì§€ëŠ”ë° ìœ„ì˜ ì‚¬ì§„ì˜ ê²½ìš°ì²˜ëŸ¼ ì§ì„ ì´ ì§ì„ ì„ í†µê³¼ í•˜ëŠ” ê²½ìš°ê°€ ì•„ë‹ˆë¼, 90ë„ ê°ë„ë¥¼ ì´ë£¨ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤.</p>

<p><img src="https://postfiles.pstatic.net/MjAxOTAyMDRfMTkw/MDAxNTQ5MjYzMTcwMTAw.MSiQ4zmQCEsSUPbKn_iPyNxgV_5o_UyVBSmGD_jK1GYg.eS34cRK58RMIZW3fChtV9Fzv5Ywnz8aE1CIcYr4d7YQg.PNG.gktgnjftm/image.png?type=w966" alt="https://postfiles.pstatic.net/MjAxOTAyMDRfMTkw/MDAxNTQ5MjYzMTcwMTAw.MSiQ4zmQCEsSUPbKn_iPyNxgV_5o_UyVBSmGD_jK1GYg.eS34cRK58RMIZW3fChtV9Fzv5Ywnz8aE1CIcYr4d7YQg.PNG.gktgnjftm/image.png?type=w966" /></p>

<p>ì´ëŸ° ê²½ìš°ëŠ” CCW1í•œê°’ì´ (ì  A,B,C) ì¼ì§ì„ ì´ê¸°ë•Œë¬¸ì— 0ì´ ë‚˜ì˜¬ê²ƒì…ë‹ˆë‹¤</p>

<p>â€‹ê·¸ë˜ì„œ ë¬¸ì œë¥¼ ì½ì—ˆëŠ”ë° ì ‘í•˜ëŠ” ê²ƒë„ ì§ì„ ì´ ë§Œë‚˜ëŠ” ê²ƒì´ë‹¤ ë¼ê³  ë˜ì–´ìˆë‹¤ë©´, ì € ìœ„ì˜ ì‹ì„ ì¡°ê¸ˆ ìˆ˜ì •ì„ í•´ì•¼ë§Œ í•©ë‹ˆë‹¤</p>

<p><strong>â€‹CCW1<em>CCW2&lt;=0 &amp;&amp; CCW3</em>CCW4&lt;=0</strong> ì´ë•Œì˜ ê²½ìš°ë§Œ ëœë‹¤ëŠ” ê²ƒì„ ì•Œìˆ˜ ìˆê² ì£ </p>

<p>â€‹ê·¼ë° ì—¬ê¸°ì„œë„ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤</p>

<p>â€‹ë§Œì•½ CCW1<em>CCW2==0 ì´ê³  ê·¸ë¦¬ê³  CCW3</em>CCW4==0 ì¼ë•Œë¥¼ ë³´ë©´</p>

<p><img src="https://postfiles.pstatic.net/MjAxOTAyMDRfNyAg/MDAxNTQ5MjYzNDU4MTEy.voHG2uf93XNvGiLhlDCLz6fCyElvzgdHxPlFdbdFLfQg.UQFZwHrlOvffWLJlVmwvsUMizbOwqNlWviCtmK7MlbMg.PNG.gktgnjftm/image.png?type=w966" alt="https://postfiles.pstatic.net/MjAxOTAyMDRfNyAg/MDAxNTQ5MjYzNDU4MTEy.voHG2uf93XNvGiLhlDCLz6fCyElvzgdHxPlFdbdFLfQg.UQFZwHrlOvffWLJlVmwvsUMizbOwqNlWviCtmK7MlbMg.PNG.gktgnjftm/image.png?type=w966" /></p>

<ol>
  <li>xì¢Œí‘œê°€ ì „ë¶€ ë™ì¼í•œ ê²½ìš°,ê·¸ëŸ°ë° yì¢Œí‘œê°€ ì ‘í•˜ì§€ ì•ŠëŠ”ê²½ìš°</li>
</ol>

<p><img src="https://postfiles.pstatic.net/MjAxOTAyMDRfMTUx/MDAxNTQ5MjYzNTUyNDM4.sdO8wuXAO2zSH6p2A67GLCs5cbSLk1SOBaJet6RbIecg.FIF1ofujD55isjGVLFc33HvmNOl9xFua3FlJQ9d5f5Mg.PNG.gktgnjftm/image.png?type=w966" alt="https://postfiles.pstatic.net/MjAxOTAyMDRfMTUx/MDAxNTQ5MjYzNTUyNDM4.sdO8wuXAO2zSH6p2A67GLCs5cbSLk1SOBaJet6RbIecg.FIF1ofujD55isjGVLFc33HvmNOl9xFua3FlJQ9d5f5Mg.PNG.gktgnjftm/image.png?type=w966" /></p>

<ol>
  <li>ê¸°ìš¸ê¸°ê°€ ë™ì¼í•œ ê²½ìš°(yì¢Œí‘œê°€ ì „ë¶€ ë‹¤ ê°™ì€ ê²½ìš°ë„ í¬í•¨ì´ ë¨)</li>
</ol>

<p>â€‹ì´ëŸ¬í•œ ê²½ìš°ì˜ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤</p>

<p>â€‹ê·¸ëŸ¬ë©´, ì´ì™€ ê°™ì´ ì½”ë”©ì„ í•´ì£¼ë©´ ê°„ë‹¨í•  ê²ƒì´ë‹¤</p>

<p>â€‹1.  ë§¨ë¨¼ì € xì¢Œí‘œê°€ ë‹¤ ë˜‘ê°™ì€ ê²½ìš°</p>

<ul>
  <li>(a). ì„ ë¶„Pì˜ ìµœëŒ€ yì¢Œí‘œê°’ê³¼, ì„ ë¶„Qì˜ ìµœì†Œ yì¢Œí‘œê°’ì´ ë§Œë‚˜ëŠ”ì§€ ì•ˆë§Œë‚˜ëŠ”ì§€ check</li>
  <li>(b). ì„ ë¶„Pì˜ ìµœì†Œ yì¢Œí‘œê°’ê³¼, ì„ ë¶„Qì˜ ìµœëŒ€ yì¢Œí‘œê°’ì´ ë§Œë‚˜ëŠ”ì§€ ì•ˆë§Œë‚˜ëŠ”ì§€ check</li>
</ul>

<p>â€‹2. ê¸°ìš¸ê¸°ê°€ ë™ì¼í•œ ê²½ìš°</p>

<p>ìœ„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ xì¢Œí‘œì— ëŒ€í•´ì„œ checkë¥¼ í•´ì£¼ë©´ ëœë‹¤</p>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">bool</span> <span class="nf">check</span><span class="p">(</span><span class="n">P</span> <span class="n">A</span><span class="p">,</span> <span class="n">P</span> <span class="n">B</span><span class="p">,</span> <span class="n">P</span> <span class="n">C</span><span class="p">,</span> <span class="n">P</span> <span class="n">D</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">x1</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">x2</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">x3</span> <span class="o">=</span> <span class="n">C</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">y3</span> <span class="o">=</span> <span class="n">C</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">x4</span> <span class="o">=</span> <span class="n">D</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">y4</span> <span class="o">=</span> <span class="n">D</span><span class="p">.</span><span class="n">second</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span> <span class="o">&amp;&amp;</span> <span class="n">x2</span> <span class="o">==</span> <span class="n">x3</span> <span class="o">&amp;&amp;</span> <span class="n">x3</span> <span class="o">==</span> <span class="n">x4</span> <span class="o">&amp;</span> <span class="n">x4</span> <span class="o">==</span> <span class="n">x1</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//xì¢Œí‘œ ê²¹ì¹ ë•Œ(yì¢Œí‘œë¹„êµ)</span>
        <span class="kt">int</span> <span class="n">maxy</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">miny</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">y3</span><span class="p">,</span> <span class="n">y4</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">maxy</span> <span class="o">&lt;</span> <span class="n">miny</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">maxy2</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">y3</span><span class="p">,</span> <span class="n">y4</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">miny2</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">maxy2</span> <span class="o">&lt;</span> <span class="n">miny2</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span> <span class="c1">//ê·¸ì™¸ ë‚˜ë¨¸ì§€(ê¸°ìš¸ê¸°ê°€ ë™ì¼í•˜ë‹¤ê±°ë‚˜, yì¢Œí‘œê°€ ê²¹ì¹œë‹¤ê±°ë‚˜)</span>
        <span class="kt">int</span> <span class="n">maxx</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">minx</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">x3</span><span class="p">,</span> <span class="n">x4</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">maxx</span> <span class="o">&lt;</span> <span class="n">minx</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">maxx2</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">x3</span><span class="p">,</span> <span class="n">x4</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">minx2</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">maxx2</span> <span class="o">&lt;</span> <span class="n">minx2</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<p>ìœ„ì— ì¨ë†“ì€ ë§ì„ ê·¸ëŒ€ë¡œ ì½”ë“œë¡œ í’€ì–´ì¼ë‹¤. ì½”ë“œê°€ ì¢€ ê¸¸ì–´ì„œ ë‚œì¡í• ìˆ˜ëŠ” ìˆìŠµë‹ˆë‹¹ ã… ã… </p>

<p>ê·¸ë¦¬ê³  intí˜•ìœ¼ë¡œ ì¨ë†¨ëŠ”ë°, ë³´í†µ ê¸°í•˜ ë¬¸ì œë“¤ì€ ì¢Œí‘œê°’ì´ ì»¤ì„œ</p>

<p>ì™ ë§Œí•˜ë©´ ì•ˆì „í•˜ê²Œ long longí˜•ìœ¼ë¡œ ê¼­ í•˜ì‹œê¸°ë¥¼ ë°”ëë‹ˆë‹¤ ã… ã… </p>

<p>(ê´œíˆ ëŒ€ê°• ê³„ì‚°í•˜ê³  ì–•ë´¤ë‹¤ê°€ í‹€ë¦°ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¹ ã… ã… )</p>

<p>ê·¸ë˜ì„œ ì´ë¥¼ í†µí•´ì„œ ì ‘í•˜ëŠ”ì§€ì— ëŒ€í•œ ì—¬ë¶€ë˜í•œ ccw ì•Œê³ ë¦¬ì¦˜ì„ ì‘ìš©í•´ì„œ ì•Œì•„ë³¼ìˆ˜ ìˆë‹¤</p>

<p>ë‹¤ìŒ ëŒ€í‘œì ì¸ ë¬¸ì œê°€ ë‹¤ìŒê³¼ ê°™ë‹¤</p>

<p><a href="https://www.acmicpc.net/problem/2162">2162ë²ˆ: ì„ ë¶„ ê·¸ë£¹</a></p>

<p>ì‚¬ì‹¤ ì´ë¬¸ì œëŠ” union-findë„ ì•Œì•„ì•¼ í’€ìˆ˜ëŠ” ìˆê¸°ëŠ” í•œë°, ìš°ì„ ì€ ë”±íˆ ë¬¸ì œê°€ ì—†ì–´ì„œ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤</p>

<p>â€‹ë¬¸ì œë¥¼ ìš”ì•½í•˜ë©´, nê°œì˜ ì„ ë¶„ì´ ì£¼ì–´ì§€ê³ , ê·¸ ì„ ë¶„ë“¤ì´ êµì°¨í•˜ë©´ ê°™ì€ ê·¸ë£¹ë“¤ë¡œ ë¬¶ê³ </p>

<p>ê·¸ë ‡ê²Œ ë¬¶ì—ˆì„ë•Œ ì´ ê·¸ë£¹ì˜ ê°¯ìˆ˜ì™€, ê°€ì¥ í° ê·¸ë£¹(ì„ ë¶„ì˜ ê°œìˆ˜ê°€ ê°€ì¥ ë§ì€)ì˜ ì„ ë¶„ê°¯ìˆ˜ë¥¼ ì¶œë ¥í•˜ëŠ” ë¬¸ì œì´ë‹¤</p>

<p>â€‹ê·¸ë˜ì„œ, ì„ ë¶„ì´ êµì°¨í•˜ëŠ”ì§€ë¥¼ íŒë³„í•˜ê³ </p>

<p>ë§Œì•½ êµì°¨í•œë‹¤ë©´, ê·¸ë•Œ êµì°¨í–ˆì„ë•Œì˜ ë‘ ì§‘í•©ì˜ ì¡°ìƒ(ë£¨íŠ¸)ì´ ë‹¤ë¥´ë‹¤ë©´, í•©ì¹˜ê³ </p>

<p>ê°™ë‹¤ë©´ í•©ì¹˜ì§€ ì•ŠëŠ”ë‹¤ ë¼ëŠ” union -findë¥¼ ì´ìš©í•´ ì ‘ê·¼í•´ì„œ í’€ì–´ë³´ë©´ ë©ë‹ˆë‹¤</p>

<h3 id="c">C++</h3>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;cstdio&gt;
#include &lt;algorithm&gt;
#include &lt;cstring&gt;
#include &lt;vector&gt;
#include &lt;queue&gt;
#include &lt;map&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;math.h&gt;
#include &lt;set&gt;
#include &lt;list&gt;
#include &lt;climits&gt;
#include &lt;string.h&gt;
#include &lt;deque&gt;
#include &lt;functional&gt;
#include &lt;stack&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span class="p">;</span>
<span class="cp">#define INF 1000000000
#define mod 1000000007
</span><span class="k">typedef</span> <span class="n">pair</span><span class="o">&lt;</span><span class="n">ll</span><span class="p">,</span> <span class="n">ll</span><span class="o">&gt;</span> <span class="n">P</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">pair</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span> <span class="n">PP</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">PPP</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">pair</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">ll</span><span class="p">,</span> <span class="n">ll</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">pair</span><span class="o">&lt;</span><span class="n">ll</span><span class="p">,</span> <span class="n">ll</span><span class="o">&gt;&gt;</span> <span class="n">PPPP</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">gox</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span> <span class="p">};</span>
<span class="kt">int</span> <span class="n">goy</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span> <span class="p">};</span>
<span class="c1">// êµì°¨í•˜ê±°ë‚˜ ì ‘í•˜ë©´, ì„ ë¶„ì´ ê²¹ì¹˜ë¯€ë¡œ ê·¸ë•Œ í•´ë‹¹ ì„ ë¶„ì„ union-findí•˜ë©´ë¨</span>
<span class="c1">// ì„ ë¶„ì„ ì €ì¥í• ë•Œ, ì •ë³´ê°€ 4ê°œí•„ìš”í•˜ë¯€ë¡œ, pair4ê°œë¡œ ã„±ã„±</span>
<span class="kt">int</span> <span class="n">parent</span><span class="p">[</span><span class="mi">3005</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">Size</span><span class="p">[</span><span class="mi">3005</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">find</span><span class="p">(</span><span class="kt">int</span> <span class="n">u</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">parent</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">==</span> <span class="n">u</span><span class="p">)</span> <span class="k">return</span> <span class="n">u</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">parent</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">parent</span><span class="p">[</span><span class="n">u</span><span class="p">]);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">uni</span><span class="p">(</span><span class="kt">int</span> <span class="n">u</span><span class="p">,</span> <span class="kt">int</span> <span class="n">v</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">u</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">u</span><span class="p">);</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">find</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">u</span> <span class="o">==</span> <span class="n">v</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">Size</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">Size</span><span class="p">[</span><span class="n">v</span><span class="p">])</span> <span class="p">{</span>
        <span class="n">Size</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+=</span> <span class="n">Size</span><span class="p">[</span><span class="n">v</span><span class="p">];</span>
        <span class="n">Size</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">parent</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">u</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="n">Size</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">+=</span> <span class="n">Size</span><span class="p">[</span><span class="n">u</span><span class="p">];</span>
        <span class="n">Size</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">parent</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">ll</span> <span class="nf">ccw</span><span class="p">(</span><span class="n">P</span> <span class="n">A</span><span class="p">,</span> <span class="n">P</span> <span class="n">B</span><span class="p">,</span> <span class="n">P</span> <span class="n">C</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">x1</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">x2</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">x3</span> <span class="o">=</span> <span class="n">C</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">y3</span> <span class="o">=</span> <span class="n">C</span><span class="p">.</span><span class="n">second</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">x1</span><span class="o">*</span><span class="n">y2</span> <span class="o">+</span> <span class="n">x2</span> <span class="o">*</span> <span class="n">y3</span> <span class="o">+</span> <span class="n">x3</span> <span class="o">*</span> <span class="n">y1</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">x2</span><span class="o">*</span><span class="n">y1</span> <span class="o">+</span> <span class="n">x3</span> <span class="o">*</span> <span class="n">y2</span> <span class="o">+</span> <span class="n">x1</span> <span class="o">*</span> <span class="n">y3</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">bool</span> <span class="nf">check</span><span class="p">(</span><span class="n">P</span> <span class="n">A</span><span class="p">,</span> <span class="n">P</span> <span class="n">B</span><span class="p">,</span> <span class="n">P</span> <span class="n">C</span><span class="p">,</span> <span class="n">P</span> <span class="n">D</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">x1</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">x2</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">x3</span> <span class="o">=</span> <span class="n">C</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">y3</span> <span class="o">=</span> <span class="n">C</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">x4</span> <span class="o">=</span> <span class="n">D</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">y4</span> <span class="o">=</span> <span class="n">D</span><span class="p">.</span><span class="n">second</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span> <span class="o">&amp;&amp;</span> <span class="n">x2</span> <span class="o">==</span> <span class="n">x3</span> <span class="o">&amp;&amp;</span> <span class="n">x3</span> <span class="o">==</span> <span class="n">x4</span> <span class="o">&amp;</span> <span class="n">x4</span> <span class="o">==</span> <span class="n">x1</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//xì¢Œí‘œ ê²¹ì¹ ë•Œ(yì¢Œí‘œë¹„êµ)</span>
        <span class="kt">int</span> <span class="n">maxy</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">miny</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">y3</span><span class="p">,</span> <span class="n">y4</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">maxy</span> <span class="o">&lt;</span> <span class="n">miny</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">maxy2</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">y3</span><span class="p">,</span> <span class="n">y4</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">miny2</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">y1</span><span class="p">,</span> <span class="n">y2</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">maxy2</span> <span class="o">&lt;</span> <span class="n">miny2</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span> <span class="c1">//ê·¸ì™¸ ë‚˜ë¨¸ì§€(ê¸°ìš¸ê¸°ê°€ ë™ì¼í•˜ë‹¤ê±°ë‚˜, yì¢Œí‘œê°€ ê²¹ì¹œë‹¤ê±°ë‚˜)</span>
        <span class="kt">int</span> <span class="n">maxx</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">minx</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">x3</span><span class="p">,</span> <span class="n">x4</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">maxx</span> <span class="o">&lt;</span> <span class="n">minx</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">maxx2</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">x3</span><span class="p">,</span> <span class="n">x4</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">minx2</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">maxx2</span> <span class="o">&lt;</span> <span class="n">minx2</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">PPPP</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">parent</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">Size</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">;</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d%d%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">x2</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">y2</span><span class="p">);</span>
        <span class="n">v</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span> <span class="p">{</span> <span class="n">x1</span><span class="p">,</span><span class="n">y1</span> <span class="p">},</span> <span class="p">{</span><span class="n">x2</span><span class="p">,</span><span class="n">y2</span><span class="p">}</span> <span class="p">});</span>
    <span class="p">}</span>

    <span class="c1">//ê° ì„ ë¶„ì—ëŒ€í•´ì„œ ë³¸ì¸ì„ ì œì™¸í•œ ë‹¤ë¥¸ ì„ ë¶„ë¼ë¦¬ ccwë¥¼ ë‹¤í•´ë´ì•¼ í•¨(ê·¸ë¦¬ê³  ë§Œì•½ ì¸ì ‘í•˜ë©´ ê·¸ë•Œ union)í•˜ë©´ë ë“¯?</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">v</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">j</span><span class="p">)</span><span class="k">continue</span><span class="p">;</span>
            <span class="n">PPPP</span> <span class="n">here</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="n">PPPP</span> <span class="n">next</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
            <span class="n">ll</span> <span class="n">ccw1</span> <span class="o">=</span> <span class="n">ccw</span><span class="p">(</span><span class="n">here</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">here</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">next</span><span class="p">.</span><span class="n">first</span><span class="p">);</span>
            <span class="n">ll</span> <span class="n">ccw2</span> <span class="o">=</span> <span class="n">ccw</span><span class="p">(</span><span class="n">here</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">here</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">next</span><span class="p">.</span><span class="n">second</span><span class="p">);</span>
            <span class="n">ll</span> <span class="n">ccw3</span> <span class="o">=</span> <span class="n">ccw</span><span class="p">(</span><span class="n">next</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">next</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">here</span><span class="p">.</span><span class="n">first</span><span class="p">);</span>
            <span class="n">ll</span> <span class="n">ccw4</span> <span class="o">=</span> <span class="n">ccw</span><span class="p">(</span><span class="n">next</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">next</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">here</span><span class="p">.</span><span class="n">second</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">ccw1</span><span class="o">*</span><span class="n">ccw2</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">ccw3</span> <span class="o">*</span> <span class="n">ccw4</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span> <span class="c1">//1ì°¨ê±°ë¥´ê¸°</span>
            <span class="k">else</span> <span class="p">{</span> <span class="c1">// ì´ì œëŠ” êµì°¨ê°€ ë˜ëŠ”ì§€ ì•ˆë˜ëŠ”ì§€ë¥¼ íŒë‹¨í•´ì•¼í•¨, ë§Œì•½ êµì°¨ê°€ ì•ˆë˜ë©´ ì—¬ê¸°ì„œë„ ê±°ë¥¸ë‹¤</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">check</span><span class="p">(</span><span class="n">here</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">here</span><span class="p">.</span><span class="n">second</span><span class="p">,</span> <span class="n">next</span><span class="p">.</span><span class="n">first</span><span class="p">,</span> <span class="n">next</span><span class="p">.</span><span class="n">second</span><span class="p">))</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">find</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">!=</span> <span class="n">find</span><span class="p">(</span><span class="n">j</span><span class="p">))</span> <span class="n">uni</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">Max</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Size</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="n">cnt</span><span class="o">++</span><span class="p">;</span>
        <span class="n">Max</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">Max</span><span class="p">,</span> <span class="n">Size</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">cnt</span><span class="p">,</span> <span class="n">Max</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
<h3 id="by-java">by Java</h3>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">com.company</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.StringTokenizer</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">static</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Long</span><span class="o">.</span><span class="na">max</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">static</span> <span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Long</span><span class="o">.</span><span class="na">min</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="nc">BufferedWriter</span> <span class="n">bw</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedWriter</span><span class="o">(</span><span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">));</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
        <span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">));</span>
        <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">());</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="no">PP</span><span class="o">&gt;</span> <span class="n">v</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">parent</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">];</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">size</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">parent</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="n">size</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">StringTokenizer</span> <span class="n">st</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringTokenizer</span><span class="o">(</span><span class="n">br</span><span class="o">.</span><span class="na">readLine</span><span class="o">());</span>
            <span class="kt">long</span> <span class="n">x1</span> <span class="o">=</span> <span class="nc">Long</span><span class="o">.</span><span class="na">parseLong</span><span class="o">(</span><span class="n">st</span><span class="o">.</span><span class="na">nextToken</span><span class="o">()),</span> <span class="n">y1</span> <span class="o">=</span> <span class="nc">Long</span><span class="o">.</span><span class="na">parseLong</span><span class="o">(</span><span class="n">st</span><span class="o">.</span><span class="na">nextToken</span><span class="o">()),</span> <span class="n">x2</span> <span class="o">=</span> <span class="nc">Long</span><span class="o">.</span><span class="na">parseLong</span><span class="o">(</span><span class="n">st</span><span class="o">.</span><span class="na">nextToken</span><span class="o">()),</span> <span class="n">y2</span> <span class="o">=</span> <span class="nc">Long</span><span class="o">.</span><span class="na">parseLong</span><span class="o">(</span><span class="n">st</span><span class="o">.</span><span class="na">nextToken</span><span class="o">());</span>
            <span class="n">v</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="no">PP</span><span class="o">(</span><span class="n">x1</span><span class="o">,</span> <span class="n">y1</span><span class="o">,</span> <span class="n">x2</span><span class="o">,</span> <span class="n">y2</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">v</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">v</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="no">PP</span> <span class="n">here</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                <span class="no">PP</span> <span class="n">next</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">);</span>
                <span class="kt">long</span> <span class="n">ccw1</span> <span class="o">=</span> <span class="n">ccw</span><span class="o">(</span><span class="n">here</span><span class="o">.</span><span class="na">x1</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">y1</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">x2</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">y2</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">x1</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">y1</span><span class="o">);</span>
                <span class="kt">long</span> <span class="n">ccw2</span> <span class="o">=</span> <span class="n">ccw</span><span class="o">(</span><span class="n">here</span><span class="o">.</span><span class="na">x1</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">y1</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">x2</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">y2</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">x2</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">y2</span><span class="o">);</span>
                <span class="kt">long</span> <span class="n">ccw3</span> <span class="o">=</span> <span class="n">ccw</span><span class="o">(</span><span class="n">next</span><span class="o">.</span><span class="na">x1</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">y1</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">x2</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">y2</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">x1</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">y1</span><span class="o">);</span>
                <span class="kt">long</span> <span class="n">ccw4</span> <span class="o">=</span> <span class="n">ccw</span><span class="o">(</span><span class="n">next</span><span class="o">.</span><span class="na">x1</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">y1</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">x2</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">y2</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">x2</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">y2</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">ccw1</span> <span class="o">*</span> <span class="n">ccw2</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">ccw3</span> <span class="o">*</span> <span class="n">ccw4</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="k">continue</span><span class="o">;</span>
                <span class="k">else</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">ccw1</span> <span class="o">*</span> <span class="n">ccw2</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">ccw3</span> <span class="o">*</span> <span class="n">ccw4</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">cross</span><span class="o">(</span><span class="n">here</span><span class="o">.</span><span class="na">x1</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">y1</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">x2</span><span class="o">,</span> <span class="n">here</span><span class="o">.</span><span class="na">y2</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">x1</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">y1</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">x2</span><span class="o">,</span> <span class="n">next</span><span class="o">.</span><span class="na">y2</span><span class="o">))</span>
                        <span class="k">continue</span><span class="o">;</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">find</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">parent</span><span class="o">)</span> <span class="o">!=</span> <span class="n">find</span><span class="o">(</span><span class="n">j</span><span class="o">,</span> <span class="n">parent</span><span class="o">))</span> <span class="n">union</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">j</span><span class="o">,</span> <span class="n">parent</span><span class="o">,</span> <span class="n">size</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">max</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">size</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">cnt</span><span class="o">++;</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">max</span> <span class="o">&lt;</span> <span class="n">size</span><span class="o">[</span><span class="n">i</span><span class="o">])</span> <span class="n">max</span> <span class="o">=</span> <span class="n">size</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="n">bw</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">cnt</span> <span class="o">+</span> <span class="s">"\n"</span> <span class="o">+</span> <span class="n">max</span> <span class="o">+</span> <span class="s">"\n"</span><span class="o">);</span>
        <span class="n">bw</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
        <span class="n">bw</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">union</span><span class="o">(</span><span class="kt">int</span> <span class="n">u</span><span class="o">,</span> <span class="kt">int</span> <span class="n">v</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">parent</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="nc">Size</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">u</span> <span class="o">=</span> <span class="n">find</span><span class="o">(</span><span class="n">u</span><span class="o">,</span> <span class="n">parent</span><span class="o">);</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">find</span><span class="o">(</span><span class="n">v</span><span class="o">,</span> <span class="n">parent</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">u</span> <span class="o">==</span> <span class="n">v</span><span class="o">)</span> <span class="k">return</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="nc">Size</span><span class="o">[</span><span class="n">u</span><span class="o">]</span> <span class="o">&lt;</span> <span class="nc">Size</span><span class="o">[</span><span class="n">v</span><span class="o">])</span> <span class="o">{</span>
            <span class="nc">Size</span><span class="o">[</span><span class="n">v</span><span class="o">]</span> <span class="o">+=</span> <span class="nc">Size</span><span class="o">[</span><span class="n">u</span><span class="o">];</span>
            <span class="nc">Size</span><span class="o">[</span><span class="n">u</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="n">parent</span><span class="o">[</span><span class="n">u</span><span class="o">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="nc">Size</span><span class="o">[</span><span class="n">u</span><span class="o">]</span> <span class="o">+=</span> <span class="nc">Size</span><span class="o">[</span><span class="n">v</span><span class="o">];</span>
            <span class="nc">Size</span><span class="o">[</span><span class="n">v</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
            <span class="n">parent</span><span class="o">[</span><span class="n">v</span><span class="o">]</span> <span class="o">=</span> <span class="n">u</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">find</span><span class="o">(</span><span class="kt">int</span> <span class="n">u</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">u</span> <span class="o">==</span> <span class="n">parent</span><span class="o">[</span><span class="n">u</span><span class="o">])</span> <span class="k">return</span> <span class="n">u</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">parent</span><span class="o">[</span><span class="n">u</span><span class="o">]</span> <span class="o">=</span> <span class="n">find</span><span class="o">(</span><span class="n">parent</span><span class="o">[</span><span class="n">u</span><span class="o">],</span> <span class="n">parent</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">cross</span><span class="o">(</span><span class="kt">long</span> <span class="n">x1</span><span class="o">,</span> <span class="kt">long</span> <span class="n">y1</span><span class="o">,</span> <span class="kt">long</span> <span class="n">x2</span><span class="o">,</span> <span class="kt">long</span> <span class="n">y2</span><span class="o">,</span> <span class="kt">long</span> <span class="n">x3</span><span class="o">,</span> <span class="kt">long</span> <span class="n">y3</span><span class="o">,</span> <span class="kt">long</span> <span class="n">x4</span><span class="o">,</span> <span class="kt">long</span> <span class="n">y4</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">x1</span> <span class="o">==</span> <span class="n">x2</span> <span class="o">&amp;&amp;</span> <span class="n">x2</span> <span class="o">==</span> <span class="n">x3</span> <span class="o">&amp;&amp;</span> <span class="n">x3</span> <span class="o">==</span> <span class="n">x4</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">!</span><span class="n">check</span><span class="o">(</span><span class="n">y1</span><span class="o">,</span> <span class="n">y2</span><span class="o">,</span> <span class="n">y3</span><span class="o">,</span> <span class="n">y4</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">!</span><span class="n">check</span><span class="o">(</span><span class="n">x1</span><span class="o">,</span> <span class="n">x2</span><span class="o">,</span> <span class="n">x3</span><span class="o">,</span> <span class="n">x4</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">check</span><span class="o">(</span><span class="kt">long</span> <span class="n">x1</span><span class="o">,</span> <span class="kt">long</span> <span class="n">x2</span><span class="o">,</span> <span class="kt">long</span> <span class="n">x3</span><span class="o">,</span> <span class="kt">long</span> <span class="n">x4</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">long</span> <span class="n">maxx</span> <span class="o">=</span> <span class="n">max</span><span class="o">(</span><span class="n">x1</span><span class="o">,</span> <span class="n">x2</span><span class="o">);</span>
        <span class="kt">long</span> <span class="n">minx</span> <span class="o">=</span> <span class="n">min</span><span class="o">(</span><span class="n">x3</span><span class="o">,</span> <span class="n">x4</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">maxx</span> <span class="o">&lt;</span> <span class="n">minx</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
        <span class="n">maxx</span> <span class="o">=</span> <span class="n">max</span><span class="o">(</span><span class="n">x3</span><span class="o">,</span> <span class="n">x4</span><span class="o">);</span>
        <span class="n">minx</span> <span class="o">=</span> <span class="n">min</span><span class="o">(</span><span class="n">x1</span><span class="o">,</span> <span class="n">x2</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">maxx</span> <span class="o">&lt;</span> <span class="n">minx</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">long</span> <span class="nf">ccw</span><span class="o">(</span><span class="kt">long</span> <span class="n">x1</span><span class="o">,</span> <span class="kt">long</span> <span class="n">y1</span><span class="o">,</span> <span class="kt">long</span> <span class="n">x2</span><span class="o">,</span> <span class="kt">long</span> <span class="n">y2</span><span class="o">,</span> <span class="kt">long</span> <span class="n">x3</span><span class="o">,</span> <span class="kt">long</span> <span class="n">y3</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="n">x1</span> <span class="o">*</span> <span class="n">y2</span> <span class="o">+</span> <span class="n">x2</span> <span class="o">*</span> <span class="n">y3</span> <span class="o">+</span> <span class="n">x3</span> <span class="o">*</span> <span class="n">y1</span><span class="o">)</span> <span class="o">-</span> <span class="o">(</span><span class="n">x2</span> <span class="o">*</span> <span class="n">y1</span> <span class="o">+</span> <span class="n">x3</span> <span class="o">*</span> <span class="n">y2</span> <span class="o">+</span> <span class="n">x1</span> <span class="o">*</span> <span class="n">y3</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">PP</span> <span class="o">{</span>
    <span class="kt">long</span> <span class="n">x1</span><span class="o">,</span> <span class="n">y1</span><span class="o">,</span> <span class="n">x2</span><span class="o">,</span> <span class="n">y2</span><span class="o">;</span>

    <span class="no">PP</span><span class="o">(</span><span class="kt">long</span> <span class="n">x1</span><span class="o">,</span> <span class="kt">long</span> <span class="n">y1</span><span class="o">,</span> <span class="kt">long</span> <span class="n">x2</span><span class="o">,</span> <span class="kt">long</span> <span class="n">y2</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">x1</span> <span class="o">=</span> <span class="n">x1</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">y1</span> <span class="o">=</span> <span class="n">y1</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">x2</span> <span class="o">=</span> <span class="n">x2</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">y2</span> <span class="o">=</span> <span class="n">y2</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">P</span> <span class="o">{</span>
    <span class="kt">long</span> <span class="n">x</span><span class="o">;</span>
    <span class="kt">long</span> <span class="n">y</span><span class="o">;</span>

    <span class="no">P</span><span class="o">(</span><span class="kt">long</span> <span class="n">x</span><span class="o">,</span> <span class="kt">long</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">y</span> <span class="o">=</span> <span class="n">y</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>ì„ ë¶„ì—ì„œ ê° ìŒì˜ x yì¢Œí‘œ ë“¤ì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•˜ê¸°ë•Œë¬¸ì—(4ê°œì˜ ì •ë³´)</p>

<p>(êµ¬ì¡°ì²´ë¡œ í•˜ëŠ”ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤ã… ã… ) ì „ pairë¥¼ ë„ˆë¬´ ì¢‹ì•„í•´ì„œ.. ì™ ë§Œí•˜ë©´ ì €ëŸ°ì‹ìœ¼ë¡œ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤</p>

<p>ì–‘í•´ ë¶€íƒë“œë¦½ë‹ˆë‹¤(í˜•ë³€í™˜ì„ í•´ì¤˜ì•¼ í•˜ëŠ”ë°, ìœ„ ì½”ë“œëŠ” í•´ì£¼ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì£„ì†¡í•©ë‹ˆë‹¤)</p>

<p>â€‹êµì°¨í•˜ëŠ”ì§€ì— ëŒ€í•œ ë¬¸ì œë„ ccw ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•´ì„œ í’€ìˆ˜ ìˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤</p>

<p>ê¶ê¸ˆí•˜ì‹  ì‚¬í•­ì€ ëŒ“ê¸€ì„ ë‚¨ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤^^</p>
:ET